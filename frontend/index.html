<!DOCTYPE html> 
<html>
<head>
  <title>AI Support Chat</title>
  <style>
    body { font-family: Arial; background:#f4f4f4; }
    #chat { width:400px; margin:50px auto; background:white; padding:20px; border-radius:10px; }
    #messages { height:300px; overflow:auto; border:1px solid #ddd; padding:10px; }
    input, button { padding:10px; width:100%; margin-top:5px; }
  </style>
</head>
<body>

<div id="chat">
  <h3>AI Support</h3>

  <div id="messages"></div>

  <input id="msg" placeholder="Type your question..." />
  <button onclick="send()">Send</button>
</div>

<script>
async function send() {

  let userMessage = document.getElementById("msg").value;

  let res = await fetch("/chat", { 
    method:"POST",
    headers:{ "Content-Type":"application/json" },
    body: JSON.stringify({
      client_name:"supportpilot_demo",
      question:userMessage,
      tone:"formal",
      language:"en"
    })
  });

  let data = await res.json();

  let box = document.getElementById("messages");

  box.innerHTML += "<p><b>You:</b> "+userMessage+"</p>";
  box.innerHTML += "<p><b>Bot:</b> "+data.answer+"</p>";

  document.getElementById("msg").value="";
}
</script>

</body>
</html>
